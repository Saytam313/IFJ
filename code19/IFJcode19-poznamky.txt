GF   - globalni ramec
LF   - lokalni ramec
TF   - docasny ramec 
INT  - integer promena
FL   - float promena (pouzivat %a v printf pro zapis)
string  - string prom. (znaky muzou byt zapsany pomoci ASCII ve formatu /000 )
BOOL - bool prom.
nil  - NULL


zapis prom:
int@42
nil@nil

zacatek:
.IFJcode18
CREATEFRAME
PUSHFRAME
JUMP $$main

deklarace promenne:
DEFVAR (ramec)@(nazev)
MOVE (cil) (zdroj)

deklarace funkce:
LABEL $$foo
PUSHFRAME

RETURN


volani funkce:
CREATEFRAME
(deklarace promenne pro parametry)
CALL $foo
MOVE (return promenna) (promenna s vysledkem funkce)





inputs= tento Å™etÄ›zec vrÃ¡tÃ­ bez dalÅ¡Ã­ Ãºpravy vÄetnÄ› symbolu konce Å™Ã¡dku (naÄÃ­tanÃ½ Å™etÄ›zec nepodporuje escape sekvence).

inputi= naÄÃ­tÃ¡ a vracÃ­ celÃ© ÄÃ­slo
inputf= naÄÃ­tÃ¡ a vracÃ­ desetinnÃ© ÄÃ­slo.
pro inputi a inputf jsou ÃºvodnÃ­ bÃ­lÃ© znaky ignorovÃ¡ny. DÃ¡le jsou ignorovÃ¡ny znaky vyskytujÃ­cÃ­ se za prvnÃ­m nevhodnÃ½m znakem (vÄetnÄ›).

V pÅ™Ã­padÄ› chybÄ›jÃ­cÃ­ hodnoty na vstupu nebo jejÃ­ho Å¡patnÃ©ho formÃ¡tu bude vÃ½sledek funkce nil, 0, nebo 0.0.




PÅ™Ã­kaz pro vÃ½pis hodnot:

print ( term1 , term2 , â€¦, termğ‘› )
VestavÄ›nÃ½ pÅ™Ã­kaz mÃ¡ libovolnÃ½ poÄet parametrÅ¯ tvoÅ™enÃ½ch termy oddÄ›lenÃ½mi ÄÃ¡rkou.
SÃ©mantika pÅ™Ã­kazu je nÃ¡sledujÃ­cÃ­: PostupnÄ› zleva doprava prochÃ¡zÃ­ termy (podrobnÄ›ji popsÃ¡ny v sekci 3.1) a vypisuje jejich hodnoty na standardnÃ­ vÃ½stup dle typu v patÅ™iÄnÃ©m formÃ¡tu. VÃ½pis jednotlivÃ½ch termÅ¯ je oddÄ›len mezerou a za poslednÃ­m termem se vypisuje mÃ­sto mezery odÅ™Ã¡dkovÃ¡nÃ­ (znak s ASCII hodnotou 10). Hodnota termu typu int bude vytiÅ¡tÄ›na pomocÃ­ '%d'23, hodnota termu typu float pak pomocÃ­ '%a'24.
None je vypsÃ¡n jako Å™etÄ›zec None. Funkce print vÅ¾dy vracÃ­ nÃ¡vratovou hodnotu None.

VestavÄ›nÃ© funkce pro prÃ¡ci s Å™etÄ›zci: V rÃ¡mci nÃ¡sledujÃ­cÃ­ch vestavÄ›nÃ½ch funkcÃ­ probÃ­hajÃ­ i
pÅ™Ã­padnÃ© implicitnÃ­ konverze parametrÅ¯ a pÅ™i Å¡patnÃ©m typu parametru dochÃ¡zÃ­ k chybÄ› 4.

len(s) â€“ VrÃ¡tÃ­ dÃ©lku (poÄet znakÅ¯) Å™etÄ›zce zadanÃ©ho jedinÃ½m parametrem ğ‘ .
NapÅ™. len("x\nz") vracÃ­ 3.

vstup: string s;

volani pred funkci:
	TF@%s //string s

vystup v TF@retval

LABEL length
PUSHFRAME
DEFVAR LF@retval
MOVE LF@retval nil@nil
DEFVAR LF@param1
MOVE LF@param1 LF@%s
DEFVAR LF@len
STRLEN LF@len LF@param1
MOVE LF@retval LF@len
POPFRAME
RETURN




substr(s, i, n) â€“ VrÃ¡tÃ­ podÅ™etÄ›zec zadanÃ©ho Å™etÄ›zce ğ‘ . DruhÃ½m parametrem ğ‘– je
dÃ¡n zaÄÃ¡tek poÅ¾adovanÃ©ho podÅ™etÄ›zce (poÄÃ­tÃ¡no od nuly) a tÅ™etÃ­ parametr ğ‘› urÄuje
dÃ©lku podÅ™etÄ›zce. Je-li index ğ‘– mimo meze 0 aÅ¾ length(s) nebo ğ‘› < 0, vracÃ­ funkce
None. Je-li ğ‘› > length(s)âˆ’ğ‘–, jsou jako Å™etÄ›zec vrÃ¡ceny od ğ‘–-tÃ©ho znaku vÅ¡echny
zbÃ½vajÃ­cÃ­ znaky Å™etÄ›zce ğ‘ .

vstup:	string s;//string
		int i;//start
		int n;//delka

volani pred funkci:
	TF@s //string s
	TF@i //int i
	TF@n //int n

vystup v TF@retval

podminky:	n > len(s)-i //vypise vsechno od i do konce
			0 <= i <= len(s) || n > 0 //jinak vraci nil

LABEL substr
PUSHFRAME
DEFVAR lf@retval
MOVE LF@retval nil@nil
DEFVAR lf@cmpres

JUMPIFEQ str0 lf@s string@ #zjistim jestli neni string prazdnej
LT lf@cmpres lf@i int@0 #zjistim jestli I je vesti nebo rovno jak 0

JUMPIFNEQ iGT0 lf@cmpres bool@true
MOVE lf@retval nil@nil #moc male I
POPFRAME
RETURN

LABEL iGT0
DEFVAR lf@strlen
STRLEN lf@strlen lf@s
GT lf@cmpres lf@i lf@strlen 

JUMPIFNEQ igood bool@true lf@cmpres #I je mensi nebo rovno nez len(s)
MOVE lf@retval nil@nil #moc vysoky I
POPFRAME
RETURN

LABEL igood
GT lf@cmpres lf@n int@0

JUMPIFEQ ngood bool@true lf@cmpres #n je vetsi nez 0
MOVE lf@retval nil@nil
POPFRAME
RETURN

LABEL ngood
ADD lf@cmpres lf@i lf@n   #cmpres = i+n
GT lf@cmpres lf@cmpres lf@strlen

JUMPIFNEQ nrdy bool@true lf@cmpres #i+n>lens(s)
SUB lf@n lf@strlen lf@i

LABEL nrdy

DEFVAR LF@char
MOVE LF@retval string@
LABEL substrwhile
JUMPIFEQ konec lf@n int@0 #while cyklus n!=0
GETCHAR lf@char lf@s lf@i
CONCAT lf@retval lf@retval lf@char
SUB lf@n lf@n int@1
ADD lf@i lf@i int@1
JUMP substrwhile

LABEL konec
POPFRAME
RETURN
//=========================================================================
â€¢ ord(s, i ) â€“ VrÃ¡tÃ­ ordinÃ¡lnÃ­ hodnotu (ASCII) znaku na pozici ğ‘– v Å™etÄ›zci ğ‘ . Je-li
pozice mimo meze Å™etÄ›zce (0 aÅ¾ length(s) - 1), vracÃ­ None.


vstup: 	string s;
		int i;

podminky:	i >= 0 && i<=len(s)

volani pred funkci:
	TF@s //string s
	TF@i //int i

vystup v TF@retval


LABEL ord
PUSHFRAME
DEFVAR lf@retval
DEFVAR lf@cmpres
LT lf@cmpres lf@i int@0
JUMPIFNEQ iGEQ0 bool@true lf@cmpres
MOVE lf@retval nil@nil
POPFRAME
RETURN
LABEL iGEQ0
DEFVAR lf@strlen
STRLEN lf@strlen lf@s
GT lf@cmpres lf@i lf@strlen
JUMPIFNEQ igood bool@true lf@cmpres
POPFRAME
RETURN
LABEL igood
STRI2INT lf@retval lf@s lf@i
POPFRAME
RETURN
//=========================================================================
â€¢ chr(i) â€“ VrÃ¡tÃ­ jednoznakovÃ½ Å™etÄ›zec se znakem, jehoÅ¾ ASCII kÃ³d je zadÃ¡n parametrem
ğ‘–. PÅ™Ã­pad, kdy je ğ‘– mimo interval [0; 255], vede na bÄ›hovou chybu pÅ™i prÃ¡ci
s Å™etÄ›zcem.

vstup: 	int i;
podminky:  i >= 0 && i <= 255

volani pred funkci:
	TF@i //int i

vystup v TF@retval

LABEL chr
PUSHFRAME
DEFVAR lf@retval
DEFVAR lf@cmpres
LT lf@cmpres lf@i int@0
JUMPIFNEQ iGEQ0 bool@true lf@cmpres
MOVE lf@retval nil@nil
POPFRAME
RETURN
LABEL iGEQ0
GT lf@cmpres lf@i int@255
JUMPIFNEQ igood bool@true lf@cmpres
MOVE lf@retval nil@nil
POPFRAME
RETURN
LABEL igood
INT2CHAR lf@retval lf@i
POPFRAME
RETURN



PÅ™Ã­klad spuÅ¡tÄ›nÃ­ funkce ord


.IFJcode19				#
CREATEFRAME				#
PUSHFRAME				# hlaviÄka kterÃ¡ musi byt vÅ¾dycky na zaÄatku kodu
JUMP $$main				#-- PÅ™eskoÄenÃ­ definicÃ­ funkcÃ­ na main

LABEL ord				# \
PUSHFRAME				# |
DEFVAR lf@retval			# |
DEFVAR lf@cmpres			# |
LT lf@cmpres lf@i int@0			# |
JUMPIFNEQ iGEQ0 bool@true lf@cmpres	# |
MOVE lf@retval nil@nil			# |
POPFRAME				# |
RETURN					# |
LABEL iGEQ0				# |-------- funkce ord
DEFVAR lf@strlen			# |
STRLEN lf@strlen lf@s			# |
GT lf@cmpres lf@i lf@strlen		# |
JUMPIFNEQ igood bool@true lf@cmpres	# |
POPFRAME				# |
RETURN					# |
LABEL igood				# |
STRI2INT lf@retval lf@s lf@i		# |
POPFRAME				# |
RETURN					# /

LABEL $$main				#-- ZaÄÃ¡tek mainu
CREATEFRAME				#
DEFVAR TF@s				# \
MOVE TF@s string@popelnicek		#  |____Definice promÄ›nnÃ½ch
DEFVAR TF@i				#  |
MOVE TF@i int@1				# / 
CALL ord				#--- volÃ¡nÃ­ funkce
WRITE TF@retval				#--- vÃ½pis vÃ½sledku
